# QuickStart（快速开始）

欢迎使用Makepad快速入门指南。本文档旨在帮助您快速建立一个新的Makepad项目，并了解其基本结构和组件。Makepad是一个创造性的编码环境，它利用Rust及其生态系统构建高性能、美观的UI应用程序。

## 目录结构

一个典型的Makepad项目的结构与您下面看到的类似。了解此结构对于有效地导航和管理项目至关重要。

```shell
- hello                     # Your project directory
├── Cargo.toml              # Rust's package manifest file for managing dependencies
└── src                     # The main project directory containing Rust source files
    ├── app.rs              # The entry file for the Makepad application, defines UI and behavior
    ├── lib.rs              # The library file, used to expose modules to other parts of the application
    └── main.rs             # The standard Rust main entry point; here, it's used to launch the Makepad app
```

## Initiate a Project

要启动一个新的Makepad项目，您首先需要创建一个新Rust项目，然后添加必要的Makepad依赖项。

```shell
# Create a new Rust project named hello
cargo new hello

# Navigate into your project directory
cd hello

# Add Makepad dependencies to your project
cargo add makepad-widgets  # Adds Makepad's widget library for UI components
cargo add makepad          # Adds Makepad itself (note: this line is awaiting Makepad's update to be functional)
```

## 添加依赖

要组织代码并使Makepad小部件在整个项目中可用，您需要在“src”目录下创建一个“lib.rs”文件。

1. 在`src`目录中创建一个名为`lib.rs`的文件。
2. 将以下内容添加到`lib.rs`中：

```rust
pub use makepad_widgets;  // Expose makepad_widgets to other parts of your application
pub mod app;              // Declare the app module, which will contain your application's logic
```

## 创建应用程序模块

现在，让我们集中精力构建您的应用程序。这涉及到使用Makepad小部件、设计应用程序的UI以及定义其行为。

### Use Widgets

在`app.rs`或等效文件中，首先导入Makepad小部件：

```rust
use makepad_widgets::*; // Import all components from makepad_widgets
```

### 添加 Live Design

Makepad通过其宏系统支持现场设计。这允许您以可读和简洁的方式定义UI组件及其属性。

```rust
use makepad_widgets::*; // Ensure makepad_widgets are imported

live_design!{
    import makepad_widgets::base::*;                  // Import base widgets and components
    import makepad_widgets::theme_desktop_dark::*;    // Use the dark theme for desktop applications
    App = {{App}} {                                   // Define the main App struct
        ui: <Window>{}                                // Use a Window widget as the root UI element
    }
}
```

### 构建应用程序结构体

主应用程序结构`App`应包含对根UI元素的引用。这被标记为`#[live]`宏，以与Makepad的实时设计系统集成。

```rust
#[derive(Live, LiveHook)] // Derive macros to enable live reloading and hooks
pub struct App {
    #[live] ui: WidgetRef, // The root UI element reference
}
```

### 注册应用程序结构体

为了确保Makepad能够识别您的应用程序结构，需要为`App`实现`LiveRegister`特质。

```rust
impl LiveRegister for App {
    fn live_register(cx: &mut Cx) {
        crate::makepad_widgets::live_design(cx); // Register the live design for makepad_widgets
    }
}
```

### 为应用程序实现`AppMain`特质

当需要处理事件并与Makepad系统集成，必须为`App`结构实现`AppMain`特质。

**这是必须的，即使没有编写任何事件逻辑**

```rust
impl AppMain for App {
    fn handle_event(&mut self, cx: &mut Cx, event: &Event) {
        self.ui.handle_event(cx, event, &mut Scope::empty()); // Delegate event handling to the UI root
    }
}

app_main!(App); // Macro to designate App as the main application entry
```

## 主方法

最后，在`main.rs`中定义`main`函数，它将启动Makepad应用程序。

```rust
fn main(){
    hello::app::app_main(); // Call the app_main function generated by the app_main! macro in app.rs
}
```

祝贺你，你已经建立了一个基本的Makepad项目！此设置概述了如何构建项目、添加依赖项和创建简单的UI应用程序。随着您对Makepad和Rust越来越熟悉，您可以开始探索更复杂的UI设计和应用程序逻辑。

---
Next: [Built-in Widgets]()
---